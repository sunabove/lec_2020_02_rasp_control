<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaBot</title>
	<link href="/bootstrap.min.css" rel="stylesheet" media="screen">
	<script src="/jquery-3.6.0.min.js"></script>
	<script src="/bootstrap.min.js"></script>
    <script> 
		
        $(function(){
            $("button.motor").bind( "mousedown",function(){
                $.post("/cmd",{ cmd: this.id, speed: $("#speed").val() },function(data,status){
                });
            });

			$("button.motor").bind( "mouseup, mouseleave",function(){
                $.post("/cmd",{ cmd:"stop" },function(data,status){
                });
            }); 

			$( "#speed" ).change( function() { $('#speed_desc').html( $("#speed").val() ) } )

			$("button.servo").bind( "mousedown",function(){
                $.post("/cmd",{ cmd: this.id },function(data,status){
                });
            });
        });
		
    </script>

	<style type="text/css">
		button {
			/* margin: 10px 15px 10px 15px; */
			width: 50px;
			height: 50px;
		}
		input {
			/* margin: 10px 15px 10px 15px; */
			width: 50px;
			height: 50px;
		}
    </style>
	
</head>

<body>

<div id="container" class="container text-center" >
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">AlphaBot Control v 1.0.02</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavDropdown">
		  <ul class="navbar-nav">
			<li class="nav-item active">
				<a class="nav-link" href="#">장애물 회피</a> 
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#">라인 트래킹(센서)</a>
			</li>
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					시스템
				</a>
				<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
					<a class="dropdown-item" href="#">Shutdown</a>
				</div>
			</li> 
		  </ul>
		</div>
	</nav>

	<div class="container" class="text-center">
		<div class="row">
			<div class="col">
				<img src="{{ url_for('video_feed') }}" />
			</div>
		</div>
	</div>

	<br/>

	<div class="container" class="width: 120px;">
		<div class="row">
			<div class="col">&nbsp;</div>
			<div class="col">
				<table class="text-center" >
					<colgroup>
						<col width="56px" />
						<col width="56px" />
						<col width="56px" />
					</colgroup>
					<thead>
						<tr>
							<td colspan="100%" >
								<h5 class="text-center text-nowrap">Motor Control</h5>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>&nbsp;</td>
							<td>
								<button id="forward" class="motor btn btn-lg btn-primary">&uuarr;</button>
							</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>
								<button id='turnleft' class="motor btn btn-lg btn-primary">&llarr;</button>
							</td>
							<td>
								<button id='stop' class="motor btn btn-sm btn-danger">Stop</button>
							</td>
							<td>
								<button id='turnright' class="motor btn btn-lg btn-primary">&rrarr;</button>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>
								<button id='backward' class="motor btn btn-lg btn-primary">&ddarr;</button>
							</td>
							<td>&nbsp;</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="100%">
								<br/>
								<h5>Speed : <span id="speed_desc">50</span></h5>
								<input id="speed" type="range" class="form-label" min="20" max="100", value="50" style="margin:-10px; width:100%; "  >
							</td>
						</tr>
					</tfoot>
				</table>
			</div>

			<div class="col">
				<table class="text-center" >
					<colgroup>
						<col width="56px" />
						<col width="56px" />
						<col width="56px" />
					</colgroup>
					<thead>
						<tr>
							<td colspan="100%" >
								<h4 class="text-center text-nowrap">Servo Control</h4>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>&nbsp;</td>
							<td>
								<button id="servo_up" class="servo btn btn-lg btn-success">&uuarr;</button>
							</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>
								<button id='servo_left' class="servo btn btn-lg btn-success">&llarr;</button>
							</td>
							<td>
								<button id='servo_stop' class="servo btn btn-sm btn-danger">Stop</button>
							</td>
							<td>
								<button id='servo_right' class="servo btn btn-lg btn-success">&rrarr;</button>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>
								<button id='servo_down' class="servo btn btn-lg btn-success">&ddarr;</button>
							</td>
							<td>&nbsp;</td> 
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col">&nbsp;</div>

		</div>
	</div>

</div>

</body>
</html>
